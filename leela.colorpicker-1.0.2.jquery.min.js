if(typeof Object.create!=="funtion"){Object.create=function(e){function t(){}t.prototype=e;return new t}}(function(e){var t={init:function(t,n){var r=this;r.elem=n;r.$elem=e(n);r.options=e.extend({},e.fn.colorPicker.options,t);r.construct()},getHtmlData:function(){var e=this;var t='<div style="z-index: '+e.options.zindex+';position: absolute;display: none; background-color: white; border: 1px solid #CCC;" class="colorpickerClass">';var n=0;for(var r=e.options.rows;r>0;r--){for(var i=e.options.cols;i>0;i--){t+='<div  class="color_cell" title="'+e.options.colorData[n]+'"  style="background-color:'+e.options.colorData[n]+';float: left;"></div>';if(n==e.options.colorData.length)n=0;n++}t+='<div class="no-space" style="clear: both;"></div>'}if(e.options.showCode){t+='<div class="show_code" style="text-align: center;font-size: 12px;border-top: 1px solid #ccc;"></div>'}t+="</div>";return t},attachToElem:function(t){var n=this;n.$elem.append(t);n.$elem.css("position","relative");e(".colorpickerClass").css("top",n.options.top).css("left",n.options.left);n.$elem.find(".colorpickerClass div.color_cell").css("width",n.options.cellWidth).css("height",n.options.cellHeight).css("margin",n.options.cellSpacing).css("outline","1px solid #CCC");n.$elem.find(".colorpickerClass div.no-space").css("width","0px").css("height","0px").css("border","none")},enableClick:function(){var t=this;t.$elem.on("click",function(t){t.stopPropagation();e(this).find(".colorpickerClass").show()});e(document).bind("click",function(){e(".colorpickerClass").hide()});e("div.color_cell").on("mouseover",function(){if(t.options.showCode===1){e("div.show_code").html(e(this).attr("title"))}})},createColorCodes:function(e){var t=this;var n=[];if(t.options.colorData.length===0){var r=["A","0","B","1","2","C","3","D","4","E","5","F","6","7","8","9"];for(var i=0,s=r.length;i<s;i++){for(var o=i,u=r.length;o<u;o++){for(var a=o,f=r.length;a<f;a++){if(n.length<e){n.push("#"+r[i]+r[o]+r[a])}else{break}}}}}else{var l=t.options.rows*t.options.cols;var c=t.options.colorData.length;var h=0;for(var i=0,s=l;i<s;i++){n.push(t.options.colorData[h]);if(c-1<=h){h=0}else{h++}}}return n},getonSelect:function(){var t=this;if(typeof t.options.onSelect==="function"){e("div.color_cell").on("click",function(n){n.preventDefault();n.stopPropagation();e(".colorpickerClass").hide();t.selectedColorCode=e(this).attr("title");t.options.onSelect.call(this,t.selectedColorCode)})}if(typeof t.options.onmouseover==="function"){e("div.color_cell").on("mouseover",function(n){n.preventDefault();n.stopPropagation();t.selectedColorCode=e(this).attr("title");t.options.onmouseover.call(this,t.selectedColorCode)})}},construct:function(){var e=this;e.options.colorData=e.createColorCodes(e.options.rows*e.options.cols);e.attachToElem(e.getHtmlData());e.enableClick();e.getonSelect()}};e.fn.colorPicker=function(e){return this.each(function(){var n=Object.create(t);n.init(e,this)})};e.fn.colorPicker.options={rows:4,cols:4,cellWidth:20,cellHeight:20,cellSpacing:5,zindex:200,top:10,left:10,showCode:0,colorData:[],onSelect:null}})(jQuery)
